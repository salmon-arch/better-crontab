# better-crontab

æ›´å®‰å…¨çš„ crontab å‘½ä»¤åŒ…è£å™¨ (wrapper)ï¼Œé˜²æ­¢èª¤åˆª crontab æ’ç¨‹ã€‚

## ğŸ“ å°ˆæ¡ˆç°¡ä»‹

`better-crontab` æ˜¯ä¸€å€‹ Linux crontab å‘½ä»¤çš„ä¿è­·å±¤ï¼Œä¸»è¦è§£æ±º `crontab -e` (ç·¨è¼¯) èˆ‡ `crontab -r` (åˆªé™¤) å¤ªå®¹æ˜“æŒ‰éŒ¯çš„å•é¡Œã€‚ç”±æ–¼éµç›¤ä¸Šçš„ `e` èˆ‡ `r` æŒ‰éµç›¸é„°ï¼Œç¶“å¸¸æœ‰äººä¸å°å¿ƒæŒ‰éŒ¯ï¼Œå°è‡´æ•´å€‹ crontab æ’ç¨‹è¢«åˆªé™¤ã€‚

æœ¬å°ˆæ¡ˆæä¾›ä¸€å€‹å®‰å…¨çš„åŒ…è£è…³æœ¬ï¼Œåœ¨åŸ·è¡Œå±éšªæ“ä½œæ™‚æœƒè¦æ±‚ç¢ºèªï¼Œé¿å…èª¤åˆªé‡è¦çš„æ’ç¨‹å·¥ä½œã€‚

## âš ï¸ å•é¡Œèªªæ˜

åœ¨ Linux ç³»çµ±ä¸­ï¼Œcrontab å‘½ä»¤æä¾›ä»¥ä¸‹å¸¸ç”¨é¸é …ï¼š

- `crontab -e` - ç·¨è¼¯ç›®å‰ä½¿ç”¨è€…çš„ crontab æª”æ¡ˆ
- `crontab -r` - **åˆªé™¤**ç›®å‰ä½¿ç”¨è€…çš„æ•´å€‹ crontab æª”æ¡ˆï¼ˆç„¡ç¢ºèªæç¤ºï¼ï¼‰
- `crontab -l` - åˆ—å‡ºç›®å‰ä½¿ç”¨è€…çš„ crontab å…§å®¹

æœ€å¤§çš„é¢¨éšªåœ¨æ–¼ï¼š
1. **éµç›¤æŒ‰éµç›¸é„°**ï¼š`e` å’Œ `r` åœ¨ QWERTY éµç›¤ä¸Šæ˜¯ç›¸é„°çš„
2. **ç„¡ç¢ºèªæ©Ÿåˆ¶**ï¼šåŸç”Ÿçš„ `crontab -r` ç›´æ¥åˆªé™¤ï¼Œæ²’æœ‰ä»»ä½•ç¢ºèªæç¤º
3. **ç„¡æ³•å¾©åŸ**ï¼šä¸€æ—¦åˆªé™¤ï¼Œæ‰€æœ‰æ’ç¨‹å·¥ä½œç«‹å³æ¶ˆå¤±ï¼Œé›£ä»¥å¾©åŸ

## âœ¨ åŠŸèƒ½ç‰¹è‰²

- âœ… åœ¨åŸ·è¡Œ `crontab -r` åˆªé™¤æ“ä½œæ™‚ï¼Œè¦æ±‚ä½¿ç”¨è€…ç¢ºèª
- âœ… æ¸…æ¥šçš„è­¦å‘Šè¨Šæ¯ï¼Œé¿å…èª¤æ“ä½œ
- âœ… å®Œå…¨ç›¸å®¹åŸç”Ÿ crontab çš„æ‰€æœ‰å…¶ä»–åŠŸèƒ½
- âœ… è¼•é‡ç´šè…³æœ¬ï¼Œç„¡é¡å¤–ä¾è³´
- âœ… æ”¯æ´ç¹é«”ä¸­æ–‡ä»‹é¢

## ğŸ“¦ å®‰è£æ–¹å¼

### æ–¹æ³• 1ï¼šç›´æ¥å®‰è£ï¼ˆæ¨è–¦ï¼‰

```bash
# 1. ä¸‹è¼‰ better-crontab è…³æœ¬
sudo curl -o /usr/local/bin/better-crontab https://raw.githubusercontent.com/doggy8088/better-crontab/main/better-crontab

# 2. ï¼ˆå»ºè­°ï¼‰æª¢è¦–è…³æœ¬å…§å®¹ï¼Œç¢ºèªç„¡å®‰å…¨ç–‘æ…®
less /usr/local/bin/better-crontab

# 3. è¨­å®šåŸ·è¡Œæ¬Šé™
sudo chmod +x /usr/local/bin/better-crontab

# 4. å»ºç«‹ aliasï¼ˆåŠ å…¥åˆ° ~/.bashrc æˆ– ~/.zshrcï¼‰
echo 'alias crontab="better-crontab"' >> ~/.bashrc

# 5. é‡æ–°è¼‰å…¥è¨­å®š
source ~/.bashrc
```

âš ï¸ **å®‰å…¨æç¤º**ï¼šåœ¨åŸ·è¡Œä»»ä½•å¾ç¶²è·¯ä¸‹è¼‰çš„è…³æœ¬å‰ï¼Œå»ºè­°å…ˆæª¢è¦–å…¶å…§å®¹ï¼Œç¢ºä¿æ²’æœ‰æƒ¡æ„ç¨‹å¼ç¢¼ã€‚

### æ–¹æ³• 2ï¼šæ‰‹å‹•å®‰è£

```bash
# 1. Clone æœ¬å°ˆæ¡ˆ
git clone https://github.com/doggy8088/better-crontab.git
cd better-crontab

# 2. è¤‡è£½è…³æœ¬åˆ°ç³»çµ±è·¯å¾‘
sudo cp better-crontab /usr/local/bin/
sudo chmod +x /usr/local/bin/better-crontab

# 3. å»ºç«‹ alias
echo 'alias crontab="better-crontab"' >> ~/.bashrc
source ~/.bashrc
```

### æ–¹æ³• 3ï¼šå…¨åŸŸå®‰è£ï¼ˆå½±éŸ¿æ‰€æœ‰ä½¿ç”¨è€…ï¼‰

```bash
# 1. å‚™ä»½åŸå§‹ crontab
sudo mv /usr/bin/crontab /usr/bin/crontab.original

# 2. å»ºç«‹ç¬¦è™Ÿé€£çµ
sudo ln -s /usr/local/bin/better-crontab /usr/bin/crontab
```

âš ï¸ **æ³¨æ„**ï¼šæ–¹æ³• 3 æœƒå½±éŸ¿ç³»çµ±ä¸Šçš„æ‰€æœ‰ä½¿ç”¨è€…ï¼Œè«‹è¬¹æ…ä½¿ç”¨ã€‚

## ğŸš€ ä½¿ç”¨æ–¹å¼

å®‰è£å®Œæˆå¾Œï¼Œä½¿ç”¨æ–¹å¼èˆ‡åŸç”Ÿ crontab å®Œå…¨ç›¸åŒï¼š

### ç·¨è¼¯ crontab
```bash
crontab -e
```

### åˆ—å‡º crontab
```bash
crontab -l
```

### åˆªé™¤ crontabï¼ˆæœƒè¦æ±‚ç¢ºèªï¼‰
```bash
crontab -r
```

åŸ·è¡Œåˆªé™¤æ™‚ï¼Œæœƒçœ‹åˆ°ä»¥ä¸‹ç¢ºèªæç¤ºï¼š

```
âš ï¸  è­¦å‘Š: æ‚¨å³å°‡åˆªé™¤æ•´å€‹ crontab æ’ç¨‹ï¼
é€™å€‹æ“ä½œå°‡æœƒæ¸…é™¤æ‰€æœ‰çš„ cron å·¥ä½œã€‚

ç¢ºå®šè¦åˆªé™¤å—ï¼Ÿ (yes/no): 
```

åªæœ‰è¼¸å…¥ `yes`ã€`y` æˆ– `æ˜¯` æ‰æœƒçœŸæ­£åŸ·è¡Œåˆªé™¤ï¼Œè¼¸å…¥å…¶ä»–ä»»ä½•å…§å®¹éƒ½æœƒå–æ¶ˆæ“ä½œã€‚

## ğŸ”§ é€²éšè¨­å®š

### è‡ªè¨‚ç¢ºèªè¨Šæ¯èªè¨€

å¦‚æœæƒ³è¦ä½¿ç”¨è‹±æ–‡è¨Šæ¯ï¼Œå¯ä»¥ç·¨è¼¯è…³æœ¬ä¸­çš„ä»¥ä¸‹éƒ¨åˆ†ï¼š

```bash
echo "âš ï¸  è­¦å‘Š: æ‚¨å³å°‡åˆªé™¤æ•´å€‹ crontab æ’ç¨‹ï¼" >&2
echo "é€™å€‹æ“ä½œå°‡æœƒæ¸…é™¤æ‰€æœ‰çš„ cron å·¥ä½œã€‚" >&2
```

### ç§»é™¤ä¿è­·æ©Ÿåˆ¶

å¦‚æœæš«æ™‚éœ€è¦ä½¿ç”¨åŸç”Ÿçš„ crontabï¼ˆä¸ç¶“é better-crontabï¼‰ï¼š

```bash
# ä½¿ç”¨å®Œæ•´è·¯å¾‘å‘¼å«åŸç”Ÿ crontab
/usr/bin/crontab -r

# æˆ–è€…æš«æ™‚å–æ¶ˆ alias
unalias crontab
crontab -r
alias crontab="better-crontab"
```

## ğŸ§ª æ¸¬è©¦

æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ­¥é©Ÿæ¸¬è©¦è…³æœ¬æ˜¯å¦æ­£å¸¸é‹ä½œï¼š

```bash
# 1. å»ºç«‹æ¸¬è©¦ç”¨çš„ crontabï¼ˆå¦‚æœé‚„æ²’æœ‰ï¼‰
echo "# Test crontab" | crontab -

# 2. åˆ—å‡º crontab ç¢ºèªå…§å®¹
crontab -l

# 3. æ¸¬è©¦åˆªé™¤åŠŸèƒ½ï¼ˆè¼¸å…¥ no å–æ¶ˆï¼‰
crontab -r
# æ‡‰è©²æœƒçœ‹åˆ°ç¢ºèªæç¤ºï¼Œè¼¸å…¥ no å–æ¶ˆæ“ä½œ

# 4. å†æ¬¡ç¢ºèª crontab æ˜¯å¦ä»å­˜åœ¨
crontab -l

# 5. çœŸæ­£åˆªé™¤ï¼ˆè¼¸å…¥ yes ç¢ºèªï¼‰
crontab -r
# è¼¸å…¥ yes ç¢ºèªåˆªé™¤

# 6. ç¢ºèªå·²åˆªé™¤
crontab -l
# æ‡‰è©²æœƒé¡¯ç¤º "no crontab for username"
```

## ğŸ“‹ ç³»çµ±éœ€æ±‚

- Linux æˆ– Unix-like ä½œæ¥­ç³»çµ±
- Bash shellï¼ˆç‰ˆæœ¬ 3.0 æˆ–ä»¥ä¸Šï¼‰
- å·²å®‰è£ crontab å‘½ä»¤

## ğŸ¤ è²¢ç»

æ­¡è¿æå‡ºå•é¡Œ (Issues) å’Œæ‹‰å–è«‹æ±‚ (Pull Requests)ï¼

å¦‚æœæ‚¨æœ‰ä»»ä½•å»ºè­°æˆ–ç™¼ç¾éŒ¯èª¤ï¼Œè«‹ï¼š
1. Fork æœ¬å°ˆæ¡ˆ
2. å»ºç«‹æ‚¨çš„åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ‚¨çš„è®Šæ›´ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. é–‹å•Ÿä¸€å€‹ Pull Request

## âš–ï¸ æˆæ¬Š

æœ¬å°ˆæ¡ˆæ¡ç”¨ MIT æˆæ¬Š - è©³è¦‹ [LICENSE](LICENSE) æª”æ¡ˆ

## ğŸ“š ç›¸é—œè³‡æº

- [crontab man page](https://man7.org/linux/man-pages/man1/crontab.1.html)
- [Cron HowTo](https://help.ubuntu.com/community/CronHowto)
- [crontab.guru](https://crontab.guru/) - cron è¡¨é”å¼ç”¢ç”Ÿå™¨

## â“ å¸¸è¦‹å•é¡Œ

### Q: ç‚ºä»€éº¼ä¸ç›´æ¥ä¿®æ”¹åŸç”Ÿçš„ crontabï¼Ÿ
A: ä¿®æ”¹ç³»çµ±å…§å»ºçš„å‘½ä»¤å¯èƒ½æœƒåœ¨ç³»çµ±æ›´æ–°æ™‚è¢«è¦†è“‹ï¼Œä¸”å¯èƒ½å½±éŸ¿å…¶ä»–ç¨‹å¼çš„æ­£å¸¸é‹ä½œã€‚ä½¿ç”¨ wrapper æ–¹å¼æ›´å®‰å…¨ä¸”æ˜“æ–¼ç®¡ç†ã€‚

### Q: é€™æœƒå½±éŸ¿ç³»çµ±çš„ cron æœå‹™å—ï¼Ÿ
A: ä¸æœƒã€‚é€™åªæ˜¯ä¸€å€‹å‘½ä»¤åŒ…è£å™¨ï¼Œä¸æœƒå½±éŸ¿ cron daemon çš„é‹ä½œã€‚

### Q: å¯ä»¥åœ¨ macOS ä¸Šä½¿ç”¨å—ï¼Ÿ
A: å¯ä»¥ï¼macOS ä¹Ÿæœ‰ crontab å‘½ä»¤ï¼Œå®‰è£æ–¹å¼ç›¸åŒã€‚

### Q: å¦‚æœæˆ‘æƒ³è¦åŸç”Ÿçš„è¡Œç‚ºæ€éº¼è¾¦ï¼Ÿ
A: æ‚¨å¯ä»¥ä½¿ç”¨å®Œæ•´è·¯å¾‘ `/usr/bin/crontab` ä¾†å‘¼å«åŸç”Ÿå‘½ä»¤ï¼Œæˆ–æ˜¯æš«æ™‚ `unalias crontab`ã€‚

### Q: æœƒé™ä½ crontab å‘½ä»¤çš„åŸ·è¡Œæ•ˆèƒ½å—ï¼Ÿ
A: å¹¾ä¹ä¸æœƒã€‚è…³æœ¬éå¸¸è¼•é‡ï¼Œåªåœ¨åˆªé™¤æ“ä½œæ™‚æ‰æœƒæœ‰é¡å¤–çš„ç¢ºèªæ­¥é©Ÿã€‚

## ğŸŒŸ è‡´è¬

æ„Ÿè¬æ‰€æœ‰æ›¾ç¶“å› ç‚ºèª¤æŒ‰ `crontab -r` è€Œç—›è‹¦çš„ç³»çµ±ç®¡ç†å“¡å€‘ï¼Œé€™å€‹å°ˆæ¡ˆå°±æ˜¯ç‚ºäº†æ‹¯æ•‘å¤§å®¶çš„æ™‚é–“å’Œå¿ƒæƒ…ï¼

---

**æç¤º**ï¼šå¦‚æœæ‚¨è¦ºå¾—é€™å€‹å°ˆæ¡ˆæœ‰å¹«åŠ©ï¼Œè«‹çµ¦æˆ‘å€‘ä¸€å€‹ â­ Starï¼